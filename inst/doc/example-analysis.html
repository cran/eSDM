<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Samuel Woodman" />

<meta name="date" content="2024-02-14" />

<title>Example analysis - Woodman et al 2019</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Example analysis - Woodman et al 2019</h1>
<h4 class="author">Samuel Woodman</h4>
<h4 class="date">2024-02-14</h4>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(eSDM)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">system.file</span>(<span class="st">&quot;eSDM_vignette_helper.R&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>), <span class="at">local =</span> <span class="cn">TRUE</span>, <span class="at">echo =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p><code>eSDM</code> allows users to create ensembles of predictions
from species distribution models (SDMs), either using the
<code>eSDM</code> GUI or manually in R using <code>eSDM</code>
functions. This vignette demonstrates creating and evaluating ensembles
using <code>eSDM</code> functions by manually performing the example
analysis from Woodman <em>et al.</em> (2019). The example analysis
explores differences between blue whale SDM predictions for the
California Current Ecosystem (CCE) from Becker <em>et al.</em> (2016;
i.e., Model_B), Hazen <em>et al.</em> (2017; i.e., Model_H), and Redfern
<em>et al.</em> (2017; i.e., Model_R). It also creates and evaluates
ensembles of the predictions, with associated uncertainty. See Woodman
<em>et al.</em> (2019) for additional details, and in particular Table 1
for details about differences between the models.</p>
<p>In this vignette, the three sets of predictions and the validation
data are read from .rds files because the original files were too large
to be included in the package. The sections where these data are
imported includes the code for reading the data from their original
files, although this code has been commented out. The original files can
be downloaded through the GUI or at <a href="https://github.com/smwoodman/eSDM-data" class="uri">https://github.com/smwoodman/eSDM-data</a>.</p>
<p>This document contains code for plotting predictions. However, by
default some of the plotting code is not run because it can take several
minutes (these code chunks contain the comment “code not run”). If
desired, you may run these code chunks manually in R.</p>
<p>Before using data from this example analysis, please see the
README.txt file for proper citation information (located at
<code>system.file(&quot;extdata/README.txt&quot;, package = &quot;eSDM&quot;</code>) and
contact the author.</p>
</div>
<div id="import-sdm-predictions" class="section level2">
<h2>Import SDM predictions</h2>
<p>The first step of the example analysis is to import and process the
Model_B, Model_H, and Model_R predictions, along with their standard
error (SE) values. Use <code>pts2poly_centroids</code> to create
<code>sf</code> objects from polygon centroids from CSV files,
<code>raster::raster</code> to import raster files, and
<code>sf::st_read</code> to import GIS files. The dimensions of the
Model_B and Model_H predictions are 0.09 x 0.09 degrees and 0.25 x 0.25
degrees, respectively; the second argument of
<code>pts2poly_centroids</code> is half the length of one side of the
polygon. GIS files already have a defined geometry that is read by
<code>st_read</code>. Before overlaying predictions, you must ensure the
following:</p>
<ul>
<li>All predictions are <code>sf</code> objects. See below for examples
of converting a CSV file of grid centroids or a <code>raster</code>
object to an <code>sf</code> object.</li>
<li>The geometries of the predictions are valid; this can be checked
using <code>sf::st_is_valid</code>.</li>
<li>The geometries of the predictions have a defined coordinate
reference system (crs); this can be checked using
<code>sf::st_crs</code>.</li>
<li>The predictions have the same longitudinal range (i.e., either [0,
360] or [-180, 180]); this can be checked using
<code>sf::st_bbox</code>. You can use <code>sf::st_wrap_dateline</code>
to convert an <code>sf</code> object to the longitudinal range [-180,
180], but note that this will cause plots to span [-180, 180] as
well.</li>
</ul>
<p>We can visualize the SDM predictions after importing and processing
them. The plots below make up Fig. 3 in Woodman <em>et al.</em> (2019).
This vignette uses the custom <code>plot_sf_3panel</code> function (in
‘vignette_helper.R’ located at
<code>system.file(&quot;vignette_helper.R&quot;, package = &quot;eSDM&quot;</code>) for
plotting. <code>plot_sf_3panel</code> and <code>tmap_sdm</code> (used
later in this vignette) were not included as functions in the
<code>eSDM</code> package because they are specific to the example
analysis region and SDMs. However, they can provide guidelines and a
framework for plotting SDMs using the <code>sf</code> and
<code>tmap</code> packages, allowing you to adapt these functions to
your specific plotting needs.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Import, process, and plot Model_B predictions</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># model.b &lt;- read.csv(&quot;Predictions_Beckeretal2016.csv&quot;)</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>model.b.sf <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Predictions_Beckeretal2016.rds&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">pts2poly_centroids</span>(<span class="fl">0.09</span> <span class="sc">/</span> <span class="dv">2</span>, <span class="at">crs =</span> <span class="dv">4326</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="fu">st_wrap_dateline</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>model.b.sf</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 14807 features and 2 fields</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#&gt; Attribute-geometry relationships: constant (2)</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -131.085 ymin: 30.045 xmax: -117.135 ymax: 48.585</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="co">#&gt; First 10 features:</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co">#&gt;        pred_bm           se                       geometry</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co">#&gt; 1  5.45105e-05 5.097233e-05 POLYGON ((-123.525 30.135, ...</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="co">#&gt; 2  5.24382e-05 5.361254e-05 POLYGON ((-123.435 30.135, ...</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="co">#&gt; 3  4.69742e-05 5.109131e-05 POLYGON ((-123.345 30.135, ...</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="co">#&gt; 4  4.23983e-05 4.816211e-05 POLYGON ((-123.255 30.135, ...</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co">#&gt; 5  4.36095e-05 5.090475e-05 POLYGON ((-123.165 30.135, ...</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co">#&gt; 6  1.07515e-04 8.646826e-05 POLYGON ((-123.705 30.225, ...</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="co">#&gt; 7  1.28310e-04 1.032217e-04 POLYGON ((-123.615 30.225, ...</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="co">#&gt; 8  1.18435e-04 1.022898e-04 POLYGON ((-123.525 30.225, ...</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co">#&gt; 9  1.09491e-04 1.067405e-04 POLYGON ((-123.435 30.225, ...</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="co">#&gt; 10 1.07454e-04 1.186867e-04 POLYGON ((-123.345 30.225, ...</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="co"># Make base map</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>map.world <span class="ot">&lt;-</span> eSDM<span class="sc">::</span>gshhg.l.L16</span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a><span class="co"># Other option for making base map</span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a><span class="co"># map.world &lt;- st_geometry(st_as_sf(maps::map(&#39;world&#39;, plot = FALSE, fill = TRUE)))</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  model.b.sf, <span class="st">&quot;pred_bm&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Model_B - &quot;</span>, <span class="at">map.base =</span> map.world, </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="at">x.axis.at =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">130</span>, <span class="sc">-</span><span class="dv">125</span>, <span class="sc">-</span><span class="dv">120</span>)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Import, process, and plot Model_H predictions</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># model.h &lt;- read.csv(&quot;Predictions_Hazenetal2017.csv&quot;)</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>model.h.sf <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Predictions_Hazenetal2017.rds&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(lon, lat, pred_bm, se) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">pts2poly_centroids</span>(<span class="fl">0.25</span> <span class="sc">/</span> <span class="dv">2</span>, <span class="at">crs =</span> <span class="dv">4326</span>, <span class="at">agr =</span> <span class="st">&quot;constant&quot;</span>)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>model.h.sf</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 4052 features and 2 fields</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt; Attribute-geometry relationships: constant (2)</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -135.125 ymin: 29.875 xmax: -115.875 ymax: 49.125</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt; First 10 features:</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt;       pred_bm          se                       geometry</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt; 1  0.04554697 0.053372075 POLYGON ((-134.875 30.125, ...</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; 2  0.03947545 0.033144082 POLYGON ((-134.625 30.125, ...</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt; 3  0.05845509 0.034460358 POLYGON ((-134.375 30.125, ...</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt; 4  0.05839801 0.036792245 POLYGON ((-134.125 30.125, ...</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt; 5  0.07102714 0.041752473 POLYGON ((-133.875 30.125, ...</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt; 6  0.04468036 0.018479887 POLYGON ((-133.625 30.125, ...</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt; 7  0.05754484 0.009460079 POLYGON ((-133.375 30.125, ...</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt; 8  0.03529852 0.017022402 POLYGON ((-133.125 30.125, ...</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">#&gt; 9  0.10666410 0.063944752 POLYGON ((-132.875 30.125, ...</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="co">#&gt; 10 0.11393473 0.061255526 POLYGON ((-132.625 30.125, ...</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  model.h.sf, <span class="st">&quot;pred_bm&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Model_H - &quot;</span>, <span class="at">map.base =</span> map.world, </span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">x.axis.at =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">135</span>, <span class="sc">-</span><span class="dv">130</span>, <span class="sc">-</span><span class="dv">125</span>, <span class="sc">-</span><span class="dv">120</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Import, process, and plot Model_R predictions</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># model.r &lt;- st_read(&quot;Shapefiles/Predictions_Redfernetal2017.shp&quot;)</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>model.r.sf <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Predictions_Redfernetal2017.rds&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="fu">st_make_valid</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co">#&gt; old-style crs object detected; please recreate object with a recent sf::st_crs()</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="co">#&gt; old-style crs object detected; please recreate object with a recent sf::st_crs()</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>model.r.sf</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 11419 features and 2 fields</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="co">#&gt; Attribute-geometry relationships: constant (2)</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="co">#&gt; Geometry type: GEOMETRY</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -14587510 ymin: 3176115 xmax: -13037510 ymax: 4766115</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="co">#&gt; Projected CRS: +proj=cea +lon_0=0 +lat_ts=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="co">#&gt; First 10 features:</span></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="co">#&gt;        pred_bm           se                       geometry</span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="co">#&gt; 1  0.008025090 0.0064684470 POLYGON ((-13037935 3406115...</span></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="co">#&gt; 2  0.009190831 0.0074858911 POLYGON ((-13047508 3426031...</span></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a><span class="co">#&gt; 3  0.007789538 0.0063127310 MULTIPOLYGON (((-13046190 3...</span></span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="co">#&gt; 4  0.004794084 0.0007867314 POLYGON ((-13197508 3446115...</span></span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a><span class="co">#&gt; 5  0.004978912 0.0015665607 POLYGON ((-13177508 3446115...</span></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a><span class="co">#&gt; 6  0.004869921 0.0008426572 MULTIPOLYGON (((-13207508 3...</span></span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="co">#&gt; 7  0.004953553 0.0012025559 MULTIPOLYGON (((-13196471 3...</span></span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="co">#&gt; 8  0.004699313 0.0014451453 POLYGON ((-13177508 3446115...</span></span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="co">#&gt; 9  0.004930461 0.0011039563 POLYGON ((-13198089 3456115...</span></span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a><span class="co">#&gt; 10          NA           NA POLYGON ((-13067508 3466115...</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  model.r.sf, <span class="st">&quot;pred_bm&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Model_R - &quot;</span>, <span class="at">map.base =</span> map.world, </span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="at">x.axis.at =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">130</span>, <span class="sc">-</span><span class="dv">125</span>, <span class="sc">-</span><span class="dv">120</span>)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Example code for converting raster to sf object; code not run</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>logo <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">raster</span>(<span class="fu">system.file</span>(<span class="st">&quot;external/rlogo.grd&quot;</span>, <span class="at">package=</span><span class="st">&quot;raster&quot;</span>))</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>logo.sf <span class="ot">&lt;-</span> <span class="fu">as</span>(logo, <span class="st">&quot;SpatialPolygonsDataFrame&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>()</span></code></pre></div>
</div>
<div id="overlay-predictions" class="section level2">
<h2>Overlay predictions</h2>
<p>Because the original predictions have both different spatial
resolutions and coordinate systems, we must overlay them onto the same
base geometry. See Woodman <em>et al.</em> (2019), the <code>eSDM</code>
GUI manual, or the <code>overlay_sdm</code> documentation for details
about the overlay process. For the example analysis, we use the geometry
of Model_R as the base geometry. However, first we must import and
process the study area and erasing polygons, with which we clip and
erase land from the base geometry, respectively. We also visualize the
base geometry.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Study area polygon</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>poly.study <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Shapefiles/Study_Area_CCE.shp&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">st_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="fu">st_crs</span>(model.r.sf))</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co">#&gt; Reading layer `Study_Area_CCE&#39; from data source </span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co">#&gt;   `C:\Users\sam.woodman\AppData\Local\Temp\RtmpK6eOLG\Rinst57d01ff7414\eSDM\extdata\Shapefiles\Study_Area_CCE.shp&#39; </span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co">#&gt;   using driver `ESRI Shapefile&#39;</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 1 feature and 6 fields</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -131 ymin: 30.05 xmax: -117.013 ymax: 48.6</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="co"># Erasing polygon; clip to the buffered study area polygon reduces future computation time</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>poly.erase <span class="ot">&lt;-</span> eSDM<span class="sc">::</span>gshhg.l.L16 <span class="sc">%&gt;%</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="fu">st_crs</span>(model.r.sf)) <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>  <span class="fu">st_make_valid</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>  <span class="fu">st_crop</span>(<span class="fu">st_buffer</span>(poly.study, <span class="dv">100000</span>))</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="co">#&gt; old-style crs object detected; please recreate object with a recent sf::st_crs()</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="co"># Create the base geometry; st_erase() function defined in eSDM_vignette_helper.R</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="co">#   Keep base.geom.sf so we don&#39;t have to run overlay function on model.r.sf</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a>base.geom.sf <span class="ot">&lt;-</span> model.r.sf <span class="sc">%&gt;%</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(model.r.sf)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a>  <span class="fu">select</span>(idx) <span class="sc">%&gt;%</span> </span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a>  <span class="co"># st_geometry() %&gt;%</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a>  <span class="fu">st_erase</span>(poly.erase) <span class="sc">%&gt;%</span> </span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a>  <span class="fu">st_intersection</span>(poly.study) <span class="sc">%&gt;%</span></span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a>  <span class="fu">st_cast</span>(<span class="st">&quot;MULTIPOLYGON&quot;</span>)</span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a><span class="co">#&gt; all geometries</span></span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a>base.geom <span class="ot">&lt;-</span> <span class="fu">st_geometry</span>(base.geom.sf)</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Visualize the base geometry</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_transform</span>(base.geom, <span class="dv">4326</span>), <span class="at">col =</span> <span class="cn">NA</span>, <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">plot</span>(map.world, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;tan&quot;</span>, <span class="at">border =</span> <span class="cn">NA</span>)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>graphics<span class="sc">::</span><span class="fu">box</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Next, we convert any associated uncertainty values to variance.
Uncertainty values must be overlaid as variance values to remain
statistically valid.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Convert SE values to variance</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>model.b.sf <span class="ot">&lt;-</span> model.b.sf <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variance =</span> se<span class="sc">^</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pred_bm, se, variance)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>model.h.sf <span class="ot">&lt;-</span> model.h.sf <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variance =</span> se<span class="sc">^</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pred_bm, se, variance)</span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>model.r.sf <span class="ot">&lt;-</span> model.r.sf <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variance =</span> se<span class="sc">^</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(pred_bm, se, variance)</span></code></pre></div>
<p>Now we can overlay the original predictions onto the base geometry.
Note that because we clipped and erased land from the base geometry, we
cannot simply use the original Model_R predictions and geometry.
However, we can ‘overlay’ the Model_R predictions by matching indices of
base geometry polygons and Model_R prediction values. This, i.e., not
running <code>overlay_sdm(base.geom, model.r.sf, ...)</code>, is
important because intersecting a complex polygon with (basically) itself
is very computationally complex.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="do">### CODE BLOCK NOT RUN</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="co"># Perform overlay, and convert overlaid uncertainty values to SEs</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>over1.sf <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">overlay_sdm</span>(base.geom, <span class="fu">st_transform</span>(model.b.sf, <span class="fu">st_crs</span>(base.geom)), <span class="fu">c</span>(<span class="st">&quot;pred_bm&quot;</span>, <span class="st">&quot;variance&quot;</span>), <span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se =</span> <span class="fu">sqrt</span>(variance))</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>over2.sf <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">overlay_sdm</span>(base.geom, <span class="fu">st_transform</span>(model.h.sf, <span class="fu">st_crs</span>(base.geom)), <span class="fu">c</span>(<span class="st">&quot;pred_bm&quot;</span>, <span class="st">&quot;variance&quot;</span>), <span class="dv">50</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se =</span> <span class="fu">sqrt</span>(variance))</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co"># over3.sf &lt;- eSDM::overlay_sdm(base.geom, model.r.sf, c(&quot;pred_bm&quot;, &quot;variance&quot;), 50) %&gt;% </span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="co">#   mutate(se = sqrt(variance))</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="co"># ## Save these results for CRAN</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="co"># saveRDS(over1.sf, file = &quot;../inst/extdata/Predictions_Beckeretal2016_overlaid.rds&quot;)</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="co"># saveRDS(over2.sf, file = &quot;../inst/extdata/Predictions_Hazenetal2017_overlaid.rds&quot;)</span></span></code></pre></div>
<p>NOTE: the above code block is not run in the vignette because of
processing times. The relevant, pre-computed outputs are loaded in the
following code block:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>over1.sf <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Predictions_Beckeretal2016_overlaid.rds&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="fu">st_set_crs</span>(<span class="fu">st_crs</span>(base.geom))</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>over2.sf <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Predictions_Hazenetal2017_overlaid.rds&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="fu">st_set_crs</span>(<span class="fu">st_crs</span>(base.geom))</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>over3.sf <span class="ot">&lt;-</span> <span class="fu">st_drop_geometry</span>(model.r.sf) <span class="sc">%&gt;%</span> </span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(model.r.sf)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>  <span class="fu">left_join</span>(base.geom.sf, <span class="at">by =</span> <span class="st">&quot;idx&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>idx) <span class="sc">%&gt;%</span> </span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>  <span class="fu">st_as_sf</span>()</span></code></pre></div>
<p>We can plot the overlaid predictions to show that the overlaid
distribution patterns are very similar to those of the original
predictions.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Plot overlaid predictions; code not run</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(over1.sf, <span class="st">&quot;pred_bm&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Overlaid Model_B - &quot;</span>, <span class="at">map.base =</span> map.world)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(over2.sf, <span class="st">&quot;pred_bm&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Overlaid Model_H - &quot;</span>, <span class="at">map.base =</span> map.world)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(over3.sf, <span class="st">&quot;pred_bm&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Overlaid Model_R - &quot;</span>, <span class="at">map.base =</span> map.world)</span></code></pre></div>
</div>
<div id="calculate-evaluation-metrics" class="section level2">
<h2>Calculate evaluation metrics</h2>
<p>To evaluate predictions and create ensembles with weights based on
evaluation metrics, we must load and process the validation data sets
for use with <code>evaluation_metrics</code>. The validation data must
be points of class <code>sf</code> with a column with either binary
presence/absence or count data. For the example analysis, we use three
validation sets in the example analysis, line transect data (Becker
<em>et al.</em> 2016), home range data (Irvine <em>et al.</em> 2014),
and these two data sets combined. Because our validation data are binary
(i.e., presence/absence), there is a column indicating whether each
value is a presence point (1) or absence point (0).</p>
<p>Note that in this vignette, the validation data are read from .rds
files because the original file was too big to be included in the
package. However, the original file can be downloaded through the GUI or
at <a href="https://github.com/smwoodman/eSDM-data" class="uri">https://github.com/smwoodman/eSDM-data</a></p>
<p>Use the function <code>sf::st_as_sf</code> to convert a data frame
with lon/lat coordinates to an <code>sf</code> object.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Import and process validation data</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="co"># valid.data &lt;- read.csv(&quot;eSDM_Validation_data_all.csv&quot;, stringsAsFactors = FALSE)</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>valid.data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/eSDM_Validation_data_all.rds&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>))<span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  <span class="fu">arrange</span>(source, lat, lon) <span class="sc">%&gt;%</span> </span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pres_abs =</span> <span class="fu">ifelse</span>(pres_abs <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> <span class="co">#For demonstration purposes; pres_abs column is already binary</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;lon&quot;</span>, <span class="st">&quot;lat&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>, <span class="at">agr =</span> <span class="st">&quot;constant&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="fu">st_crs</span>(base.geom))</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="co"># Extract the line transect and home range validation data</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>valid.data.lt <span class="ot">&lt;-</span> valid.data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">&quot;Becker_et_al_2016&quot;</span>)</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>valid.data.hr <span class="ot">&lt;-</span> valid.data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">&quot;Irvine_et_al_2014&quot;</span>)</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="co"># Summarize the number of presence and absence points</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>valid.data <span class="sc">%&gt;%</span> </span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a>  <span class="fu">st_set_geometry</span>(<span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a>  <span class="fu">group_by</span>(source) <span class="sc">%&gt;%</span>  </span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pres =</span> <span class="fu">sum</span>(pres_abs <span class="sc">==</span> <span class="dv">1</span>), </span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a>            <span class="at">abs =</span> <span class="fu">sum</span>(pres_abs <span class="sc">==</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">&quot;Validation data summary&quot;</span>)</span></code></pre></div>
<table>
<caption>Validation data summary</caption>
<thead>
<tr class="header">
<th align="left">source</th>
<th align="right">pres</th>
<th align="right">abs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Becker_et_al_2016</td>
<td align="right">71</td>
<td align="right">7368</td>
</tr>
<tr class="even">
<td align="left">Irvine_et_al_2014</td>
<td align="right">328</td>
<td align="right">10386</td>
</tr>
</tbody>
</table>
<p>Now we can calculate the AUC and TSS metrics for the original and
overlaid predictions. The displayed table is from Table 3 of Woodman
<em>et al.</em> (2019). Note that <code>evaluation_metrics</code>
requires that validation data have the same coordinate reference system
as the predictions being evaluated.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Calculate evaluation metrics with different validation data sets; code not run</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>names<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  <span class="st">&quot;Model_B_orig&quot;</span>, <span class="st">&quot;Model_H_orig&quot;</span>, <span class="st">&quot;Model_R_orig&quot;</span>, </span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  <span class="st">&quot;Model_B_overlaid&quot;</span>, <span class="st">&quot;Model_H_overlaid&quot;</span>, <span class="st">&quot;Model_R_overlaid&quot;</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>)</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>eval.lt <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">do.call</span>(rbind, <span class="fu">list</span>(</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.b.sf, <span class="dv">1</span>, <span class="fu">st_transform</span>(valid.data.lt, <span class="dv">4326</span>), <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.h.sf, <span class="dv">1</span>, <span class="fu">st_transform</span>(valid.data.lt, <span class="dv">4326</span>), <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.r.sf, <span class="dv">1</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over1.sf, <span class="dv">1</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over2.sf, <span class="dv">1</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over3.sf, <span class="dv">1</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>))) <span class="sc">%&gt;%</span></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Preds =</span> names<span class="fl">.1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Preds, <span class="at">AUC_LT =</span> X1, <span class="at">TSS_LT =</span> X2)</span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a>eval.hr <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">do.call</span>(rbind, <span class="fu">list</span>(</span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.b.sf, <span class="dv">1</span>, <span class="fu">st_transform</span>(valid.data.hr, <span class="dv">4326</span>), <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.h.sf, <span class="dv">1</span>, <span class="fu">st_transform</span>(valid.data.hr, <span class="dv">4326</span>), <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.r.sf, <span class="dv">1</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over1.sf, <span class="dv">1</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over2.sf, <span class="dv">1</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over3.sf, <span class="dv">1</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a>))) <span class="sc">%&gt;%</span></span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Preds =</span> names<span class="fl">.1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Preds, <span class="at">AUC_HR =</span> X1, <span class="at">TSS_HR =</span> X2)</span>
<span id="cb16-28"><a href="#cb16-28" tabindex="-1"></a></span>
<span id="cb16-29"><a href="#cb16-29" tabindex="-1"></a>eval.combo <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">do.call</span>(rbind, <span class="fu">list</span>(</span>
<span id="cb16-30"><a href="#cb16-30" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.b.sf, <span class="dv">1</span>, <span class="fu">st_transform</span>(valid.data, <span class="dv">4326</span>), <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-31"><a href="#cb16-31" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.h.sf, <span class="dv">1</span>, <span class="fu">st_transform</span>(valid.data, <span class="dv">4326</span>), <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-32"><a href="#cb16-32" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(model.r.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-33"><a href="#cb16-33" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over1.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-34"><a href="#cb16-34" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over2.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb16-35"><a href="#cb16-35" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over3.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb16-36"><a href="#cb16-36" tabindex="-1"></a>))) <span class="sc">%&gt;%</span></span>
<span id="cb16-37"><a href="#cb16-37" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Preds =</span> names<span class="fl">.1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-38"><a href="#cb16-38" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Preds, <span class="at">AUC =</span> X1, <span class="at">TSS =</span> X2)</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Table3.csv&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;Model_&quot;</span>, Predictions)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Predictions, AUC, TSS, <span class="st">`</span><span class="at">AUC-LT</span><span class="st">`</span> <span class="ot">=</span> AUC.LT, <span class="st">`</span><span class="at">TSS-LT</span><span class="st">`</span> <span class="ot">=</span> TSS.LT, </span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>                <span class="st">`</span><span class="at">AUC-HR</span><span class="st">`</span> <span class="ot">=</span> AUC.HR, <span class="st">`</span><span class="at">TSS-HR</span><span class="st">`</span> <span class="ot">=</span> TSS.HR) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">&quot;Evaluation metrics&quot;</span>, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">align =</span> <span class="st">&quot;lcccccc&quot;</span>)</span></code></pre></div>
<table>
<caption>Evaluation metrics</caption>
<colgroup>
<col width="29%" />
<col width="10%" />
<col width="10%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Predictions</th>
<th align="center">AUC</th>
<th align="center">TSS</th>
<th align="center">AUC-LT</th>
<th align="center">TSS-LT</th>
<th align="center">AUC-HR</th>
<th align="center">TSS-HR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Model_B - original</td>
<td align="center">0.912</td>
<td align="center">0.717</td>
<td align="center">0.732</td>
<td align="center">0.374</td>
<td align="center">0.963</td>
<td align="center">0.824</td>
</tr>
<tr class="even">
<td align="left">Model_H - original</td>
<td align="center">0.734</td>
<td align="center">0.414</td>
<td align="center">0.620</td>
<td align="center">0.284</td>
<td align="center">0.772</td>
<td align="center">0.471</td>
</tr>
<tr class="odd">
<td align="left">Model_R - original</td>
<td align="center">0.919</td>
<td align="center">0.756</td>
<td align="center">0.684</td>
<td align="center">0.290</td>
<td align="center">0.980</td>
<td align="center">0.882</td>
</tr>
<tr class="even">
<td align="left">Model_B - overlaid</td>
<td align="center">0.916</td>
<td align="center">0.742</td>
<td align="center">0.732</td>
<td align="center">0.380</td>
<td align="center">0.967</td>
<td align="center">0.856</td>
</tr>
<tr class="odd">
<td align="left">Model_H - overlaid</td>
<td align="center">0.735</td>
<td align="center">0.406</td>
<td align="center">0.620</td>
<td align="center">0.286</td>
<td align="center">0.772</td>
<td align="center">0.460</td>
</tr>
<tr class="even">
<td align="left">Model_R - overlaid</td>
<td align="center">0.919</td>
<td align="center">0.756</td>
<td align="center">0.684</td>
<td align="center">0.290</td>
<td align="center">0.980</td>
<td align="center">0.882</td>
</tr>
</tbody>
</table>
<p>We can see that for each set of predictions, the original and
overlaid evaluation metrics are quite similar, again showing that the
overlay conserved the predicted blue whale distributions.</p>
</div>
<div id="create-and-evaluate-ensemble-predictions" class="section level2">
<h2>Create and evaluate ensemble predictions</h2>
<p>Before creating the ensembles, we must rescale the overlaid
predictions. We rescaled the predictions using the abundance rescaling
method and an abundance of 1648 (Becker <em>et al.</em> 2016). Using the
sum to 1 rescaling method would result in ensembles with similar
distribution patterns, but the actual density values could not be used
to provide a meaningful abundance estimate.</p>
<p><code>ensemble_rescale</code> requires a single <code>sf</code>
object that contains all of the data being rescaled. Thus, we extract
the prediction and variance values before using the rescaling
function.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># Rescale predictions</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>over.sf <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  over1.sf <span class="sc">%&gt;%</span> <span class="fu">st_set_geometry</span>(<span class="cn">NULL</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="at">pred_bm1 =</span> pred_bm, <span class="at">var1 =</span> variance), </span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>  over2.sf <span class="sc">%&gt;%</span> <span class="fu">st_set_geometry</span>(<span class="cn">NULL</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="at">pred_bm2 =</span> pred_bm, <span class="at">var2 =</span> variance), </span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>  over3.sf <span class="sc">%&gt;%</span> <span class="fu">st_set_geometry</span>(<span class="cn">NULL</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="at">pred_bm3 =</span> pred_bm, <span class="at">var3 =</span> variance)</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>  <span class="fu">st_sf</span>(<span class="at">geometry =</span> base.geom, <span class="at">agr =</span> <span class="st">&quot;constant&quot;</span>)</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>over.sf.rescaled <span class="ot">&lt;-</span> <span class="fu">ensemble_rescale</span>(</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>  over.sf, <span class="fu">c</span>(<span class="st">&quot;pred_bm1&quot;</span>, <span class="st">&quot;pred_bm2&quot;</span>, <span class="st">&quot;pred_bm3&quot;</span>), <span class="st">&quot;abundance&quot;</span>, <span class="dv">1648</span>, </span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>  <span class="at">x.var.idx =</span> <span class="fu">c</span>(<span class="st">&quot;var1&quot;</span>, <span class="st">&quot;var2&quot;</span>, <span class="st">&quot;var3&quot;</span>)</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>)</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a><span class="co"># Check that overlaid predictions predict expected abundance</span></span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a>eSDM<span class="sc">::</span><span class="fu">model_abundance</span>(over.sf.rescaled, <span class="st">&quot;pred_bm1&quot;</span>)</span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a><span class="co">#&gt; pred_bm1 </span></span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a><span class="co">#&gt;     1648</span></span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a>eSDM<span class="sc">::</span><span class="fu">model_abundance</span>(over.sf.rescaled, <span class="st">&quot;pred_bm2&quot;</span>)</span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a><span class="co">#&gt; pred_bm2 </span></span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a><span class="co">#&gt;     1648</span></span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a>eSDM<span class="sc">::</span><span class="fu">model_abundance</span>(over.sf.rescaled, <span class="st">&quot;pred_bm3&quot;</span>)</span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a><span class="co">#&gt; pred_bm3 </span></span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a><span class="co">#&gt;     1648</span></span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" tabindex="-1"></a><span class="fu">summary</span>(over.sf.rescaled)</span>
<span id="cb18-26"><a href="#cb18-26" tabindex="-1"></a><span class="co">#&gt;     pred_bm1            var1          pred_bm2            var2   </span></span>
<span id="cb18-27"><a href="#cb18-27" tabindex="-1"></a><span class="co">#&gt;  Min.   :0.00001   Min.   :0e+00   Min.   :0.00003   Min.   :0   </span></span>
<span id="cb18-28"><a href="#cb18-28" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:0.00029   1st Qu.:0e+00   1st Qu.:0.00063   1st Qu.:0   </span></span>
<span id="cb18-29"><a href="#cb18-29" tabindex="-1"></a><span class="co">#&gt;  Median :0.00080   Median :0e+00   Median :0.00104   Median :0   </span></span>
<span id="cb18-30"><a href="#cb18-30" tabindex="-1"></a><span class="co">#&gt;  Mean   :0.00148   Mean   :0e+00   Mean   :0.00147   Mean   :0   </span></span>
<span id="cb18-31"><a href="#cb18-31" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:0.00180   3rd Qu.:0e+00   3rd Qu.:0.00187   3rd Qu.:0   </span></span>
<span id="cb18-32"><a href="#cb18-32" tabindex="-1"></a><span class="co">#&gt;  Max.   :0.01970   Max.   :7e-05   Max.   :0.00645   Max.   :0   </span></span>
<span id="cb18-33"><a href="#cb18-33" tabindex="-1"></a><span class="co">#&gt;  NA&#39;s   :38        NA&#39;s   :38      NA&#39;s   :95        NA&#39;s   :95  </span></span>
<span id="cb18-34"><a href="#cb18-34" tabindex="-1"></a><span class="co">#&gt;     pred_bm3            var3                  geometry    </span></span>
<span id="cb18-35"><a href="#cb18-35" tabindex="-1"></a><span class="co">#&gt;  Min.   :0.00000   Min.   :0.00000   MULTIPOLYGON :11419  </span></span>
<span id="cb18-36"><a href="#cb18-36" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:0.00020   1st Qu.:0.00000   epsg:NA      :    0  </span></span>
<span id="cb18-37"><a href="#cb18-37" tabindex="-1"></a><span class="co">#&gt;  Median :0.00051   Median :0.00000   +proj=cea ...:    0  </span></span>
<span id="cb18-38"><a href="#cb18-38" tabindex="-1"></a><span class="co">#&gt;  Mean   :0.00147   Mean   :0.00000                        </span></span>
<span id="cb18-39"><a href="#cb18-39" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:0.00225   3rd Qu.:0.00000                        </span></span>
<span id="cb18-40"><a href="#cb18-40" tabindex="-1"></a><span class="co">#&gt;  Max.   :0.01866   Max.   :0.00013                        </span></span>
<span id="cb18-41"><a href="#cb18-41" tabindex="-1"></a><span class="co">#&gt;  NA&#39;s   :41        NA&#39;s   :41</span></span></code></pre></div>
<p>We can see that the prediction values are now much more comparable,
and thus a subset of the predictions will not contribute
disproportionately to an ensemble.</p>
<p>We also must calculate the ensemble weights, which must be manually
created. For the example analysis, we use several weighting methods:
equal weights (i.e., unweighted), AUC-based weights, TSS-based weights,
and weights calculated as the inverse of the prediction variance. Each
set of weights must sum to 1, or each row must sum to 1 in the case of
the weights calculated as the inverse of the prediction variance. Note
that when calculating evaluation metrics, a message is printed if any of
the validation data points do not intersect with a prediction
polygon.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Calculate ensemble weights</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>e.weights <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over1.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over2.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(over3.sf, <span class="dv">1</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>)</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="co">#&gt; There were 83 validation points that did not overlap with a non-NA prediction polygon</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="co">#&gt; There were 171 validation points that did not overlap with a non-NA prediction polygon</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a><span class="co">#&gt; There were 84 validation points that did not overlap with a non-NA prediction polygon</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>over.df.resc.var <span class="ot">&lt;-</span> over.sf.rescaled <span class="sc">%&gt;%</span> </span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(var1, var2, var3) <span class="sc">%&gt;%</span> </span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a>  <span class="fu">st_set_geometry</span>(<span class="cn">NULL</span>)</span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a>e.weights.unw <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">3</span></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a>e.weights.auc <span class="ot">&lt;-</span> <span class="fu">sapply</span>(e.weights, <span class="cf">function</span>(i) i[<span class="dv">1</span>]) <span class="sc">/</span> <span class="fu">sum</span>(<span class="fu">sapply</span>(e.weights, <span class="cf">function</span>(i) i[<span class="dv">1</span>]))</span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a>e.weights.tss <span class="ot">&lt;-</span> <span class="fu">sapply</span>(e.weights, <span class="cf">function</span>(i) i[<span class="dv">2</span>]) <span class="sc">/</span> <span class="fu">sum</span>(<span class="fu">sapply</span>(e.weights, <span class="cf">function</span>(i) i[<span class="dv">2</span>]))</span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a>e.weights.var <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">t</span>(<span class="fu">apply</span>(</span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a>  <span class="dv">1</span> <span class="sc">/</span> over.df.resc.var, <span class="dv">1</span>, <span class="cf">function</span>(i) {i <span class="sc">/</span> <span class="fu">sum</span>(i, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)}</span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a>)))</span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" tabindex="-1"></a>e.weights.unw</span>
<span id="cb19-23"><a href="#cb19-23" tabindex="-1"></a><span class="co">#&gt; [1] 0.3333333 0.3333333 0.3333333</span></span>
<span id="cb19-24"><a href="#cb19-24" tabindex="-1"></a>e.weights.auc</span>
<span id="cb19-25"><a href="#cb19-25" tabindex="-1"></a><span class="co">#&gt; [1] 0.3564575 0.2859788 0.3575637</span></span>
<span id="cb19-26"><a href="#cb19-26" tabindex="-1"></a>e.weights.tss</span>
<span id="cb19-27"><a href="#cb19-27" tabindex="-1"></a><span class="co">#&gt; [1] 0.3897645 0.2127986 0.3974369</span></span>
<span id="cb19-28"><a href="#cb19-28" tabindex="-1"></a><span class="fu">head</span>(e.weights.var)</span>
<span id="cb19-29"><a href="#cb19-29" tabindex="-1"></a><span class="co">#&gt;         var1      var2        var3</span></span>
<span id="cb19-30"><a href="#cb19-30" tabindex="-1"></a><span class="co">#&gt; 1 0.30739591 0.6897710 0.002833083</span></span>
<span id="cb19-31"><a href="#cb19-31" tabindex="-1"></a><span class="co">#&gt; 2 0.99305706        NA 0.006942942</span></span>
<span id="cb19-32"><a href="#cb19-32" tabindex="-1"></a><span class="co">#&gt; 3 0.99479068        NA 0.005209324</span></span>
<span id="cb19-33"><a href="#cb19-33" tabindex="-1"></a><span class="co">#&gt; 4 0.06759370 0.3232166 0.609189722</span></span>
<span id="cb19-34"><a href="#cb19-34" tabindex="-1"></a><span class="co">#&gt; 5 0.05685041 0.8348384 0.108311140</span></span>
<span id="cb19-35"><a href="#cb19-35" tabindex="-1"></a><span class="co">#&gt; 6 0.04114136 0.4182598 0.540598860</span></span></code></pre></div>
<p>Finally, we can create the ensembles. We calculate the ensemble
uncertainty values with the among-model variance.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="do">### Create ensembles</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="co"># Unweighted; calculate CV because it is used in Fig. 4 plot</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>ens.sf.unw <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">ensemble_create</span>(</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>  over.sf.rescaled, <span class="fu">c</span>(<span class="st">&quot;pred_bm1&quot;</span>, <span class="st">&quot;pred_bm2&quot;</span>, <span class="st">&quot;pred_bm3&quot;</span>),  <span class="at">w =</span> e.weights.unw, </span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>  <span class="at">x.var.idx =</span> <span class="cn">NULL</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SE =</span> <span class="fu">sqrt</span>(Var_ens), <span class="at">CV =</span> SE <span class="sc">/</span> Pred_ens) <span class="sc">%&gt;%</span> </span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Pred_ens, SE, CV) <span class="sc">%&gt;%</span> </span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>)</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="co"># Weights based on AUC</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a>ens.sf.wauc <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">ensemble_create</span>(</span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a>  over.sf.rescaled, <span class="fu">c</span>(<span class="st">&quot;pred_bm1&quot;</span>, <span class="st">&quot;pred_bm2&quot;</span>, <span class="st">&quot;pred_bm3&quot;</span>),  <span class="at">w =</span> e.weights.auc, </span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a>  <span class="at">x.var.idx =</span> <span class="cn">NULL</span></span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SE =</span> <span class="fu">sqrt</span>(Var_ens)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-18"><a href="#cb20-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Pred_ens, SE) <span class="sc">%&gt;%</span> </span>
<span id="cb20-19"><a href="#cb20-19" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>)</span>
<span id="cb20-20"><a href="#cb20-20" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" tabindex="-1"></a><span class="co"># Weights based on TSS</span></span>
<span id="cb20-22"><a href="#cb20-22" tabindex="-1"></a>ens.sf.wtss <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">ensemble_create</span>(</span>
<span id="cb20-23"><a href="#cb20-23" tabindex="-1"></a>  over.sf.rescaled, <span class="fu">c</span>(<span class="st">&quot;pred_bm1&quot;</span>, <span class="st">&quot;pred_bm2&quot;</span>, <span class="st">&quot;pred_bm3&quot;</span>),  <span class="at">w =</span> e.weights.tss, </span>
<span id="cb20-24"><a href="#cb20-24" tabindex="-1"></a>  <span class="at">x.var.idx =</span> <span class="cn">NULL</span></span>
<span id="cb20-25"><a href="#cb20-25" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-26"><a href="#cb20-26" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SE =</span> <span class="fu">sqrt</span>(Var_ens)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-27"><a href="#cb20-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Pred_ens, SE) <span class="sc">%&gt;%</span> </span>
<span id="cb20-28"><a href="#cb20-28" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>)</span>
<span id="cb20-29"><a href="#cb20-29" tabindex="-1"></a></span>
<span id="cb20-30"><a href="#cb20-30" tabindex="-1"></a><span class="co"># Weights based on the inverse of the variance</span></span>
<span id="cb20-31"><a href="#cb20-31" tabindex="-1"></a>ens.sf.wvar <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">ensemble_create</span>(</span>
<span id="cb20-32"><a href="#cb20-32" tabindex="-1"></a>  over.sf.rescaled, <span class="fu">c</span>(<span class="st">&quot;pred_bm1&quot;</span>, <span class="st">&quot;pred_bm2&quot;</span>, <span class="st">&quot;pred_bm3&quot;</span>),  <span class="at">w =</span> e.weights.var, </span>
<span id="cb20-33"><a href="#cb20-33" tabindex="-1"></a>  <span class="at">x.var.idx =</span> <span class="cn">NULL</span></span>
<span id="cb20-34"><a href="#cb20-34" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-35"><a href="#cb20-35" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SE =</span> <span class="fu">sqrt</span>(Var_ens)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-36"><a href="#cb20-36" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Pred_ens, SE) <span class="sc">%&gt;%</span> </span>
<span id="cb20-37"><a href="#cb20-37" tabindex="-1"></a>  <span class="fu">st_set_agr</span>(<span class="st">&quot;constant&quot;</span>)</span></code></pre></div>
<p>We could also have estimated the within-model ensemble uncertainty by
using the <code>x.var.idx</code> argument, as demonstrated in the
following code (not run).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># Create an ensemble and calculate within-model uncertainty; code not run</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>ens.sf.unw.wmv <span class="ot">&lt;-</span> eSDM<span class="sc">::</span><span class="fu">ensemble_create</span>(</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>  over.sf.rescaled, <span class="fu">c</span>(<span class="st">&quot;pred_bm1&quot;</span>, <span class="st">&quot;pred_bm2&quot;</span>, <span class="st">&quot;pred_bm3&quot;</span>),  <span class="at">w =</span> e.weights.unw,</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>  <span class="at">x.var.idx =</span> <span class="fu">c</span>(var1, var2, var3)</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SE =</span> <span class="fu">sqrt</span>(Var_ens)) <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Pred_ens , SE)</span></code></pre></div>
<p>Now we can calculate AUC and TSS scores for the ensembles and compare
them to those of original and ensemble predictions. Again, the
evaluation code is not run; the displayed table is Table 3 from Woodman
<em>et al.</em> (2019).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># Calculate evaluation metrics for ensembles; code not run</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>names<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>  <span class="st">&quot;Ensemble – unweighted&quot;</span>, <span class="st">&quot;Ensemble – AUC-based weights&quot;</span>,</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>  <span class="st">&quot;Ensemble – TSS-based weights&quot;</span>, <span class="st">&quot;Ensemble – variance-based weights&quot;</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>)</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>eval.lt.ens <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">do.call</span>(rbind, <span class="fu">list</span>(</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.unw,  <span class="st">&quot;Pred_ens&quot;</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wauc, <span class="st">&quot;Pred_ens&quot;</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wvar, <span class="st">&quot;Pred_ens&quot;</span>, valid.data.lt, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>))) <span class="sc">%&gt;%</span></span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Preds =</span> names<span class="fl">.2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Preds, <span class="at">AUC_LT =</span> X1, <span class="at">TSS_LT =</span> X2)</span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a>eval.hr.ens <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">do.call</span>(rbind, <span class="fu">list</span>(</span>
<span id="cb22-17"><a href="#cb22-17" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.unw,  <span class="st">&quot;Pred_ens&quot;</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-18"><a href="#cb22-18" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wauc, <span class="st">&quot;Pred_ens&quot;</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-19"><a href="#cb22-19" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-20"><a href="#cb22-20" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wvar, <span class="st">&quot;Pred_ens&quot;</span>, valid.data.hr, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb22-21"><a href="#cb22-21" tabindex="-1"></a>))) <span class="sc">%&gt;%</span></span>
<span id="cb22-22"><a href="#cb22-22" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Preds =</span> names<span class="fl">.2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-23"><a href="#cb22-23" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Preds, <span class="at">AUC_HR =</span> X1, <span class="at">TSS_HR =</span> X2) </span>
<span id="cb22-24"><a href="#cb22-24" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" tabindex="-1"></a>eval.combo.ens <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">do.call</span>(rbind, <span class="fu">list</span>(</span>
<span id="cb22-26"><a href="#cb22-26" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.unw,  <span class="st">&quot;Pred_ens&quot;</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-27"><a href="#cb22-27" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wauc, <span class="st">&quot;Pred_ens&quot;</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-28"><a href="#cb22-28" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>), </span>
<span id="cb22-29"><a href="#cb22-29" tabindex="-1"></a>  eSDM<span class="sc">::</span><span class="fu">evaluation_metrics</span>(ens.sf.wvar, <span class="st">&quot;Pred_ens&quot;</span>, valid.data, <span class="st">&quot;pres_abs&quot;</span>)</span>
<span id="cb22-30"><a href="#cb22-30" tabindex="-1"></a>))) <span class="sc">%&gt;%</span></span>
<span id="cb22-31"><a href="#cb22-31" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Preds =</span> names<span class="fl">.2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-32"><a href="#cb22-32" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Preds, <span class="at">AUC =</span> X1, <span class="at">TSS =</span> X2)</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="fu">system.file</span>(<span class="st">&quot;extdata/Table3.csv&quot;</span>, <span class="at">package =</span> <span class="st">&quot;eSDM&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Predictions, AUC, TSS, <span class="st">`</span><span class="at">AUC-LT</span><span class="st">`</span> <span class="ot">=</span> AUC.LT, <span class="st">`</span><span class="at">TSS-LT</span><span class="st">`</span> <span class="ot">=</span> TSS.LT, </span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>                <span class="st">`</span><span class="at">AUC-HR</span><span class="st">`</span> <span class="ot">=</span> AUC.HR, <span class="st">`</span><span class="at">TSS-HR</span><span class="st">`</span> <span class="ot">=</span> TSS.HR) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">&quot;Evaluation metrics&quot;</span>, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">align =</span> <span class="st">&quot;lcccccc&quot;</span>)</span></code></pre></div>
<table style="width:100%;">
<caption>Evaluation metrics</caption>
<colgroup>
<col width="42%" />
<col width="8%" />
<col width="8%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Predictions</th>
<th align="center">AUC</th>
<th align="center">TSS</th>
<th align="center">AUC-LT</th>
<th align="center">TSS-LT</th>
<th align="center">AUC-HR</th>
<th align="center">TSS-HR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Model_B - original</td>
<td align="center">0.912</td>
<td align="center">0.717</td>
<td align="center">0.732</td>
<td align="center">0.374</td>
<td align="center">0.963</td>
<td align="center">0.824</td>
</tr>
<tr class="even">
<td align="left">Model_H - original</td>
<td align="center">0.734</td>
<td align="center">0.414</td>
<td align="center">0.620</td>
<td align="center">0.284</td>
<td align="center">0.772</td>
<td align="center">0.471</td>
</tr>
<tr class="odd">
<td align="left">Model_R - original</td>
<td align="center">0.919</td>
<td align="center">0.756</td>
<td align="center">0.684</td>
<td align="center">0.290</td>
<td align="center">0.980</td>
<td align="center">0.882</td>
</tr>
<tr class="even">
<td align="left">Model_B - overlaid</td>
<td align="center">0.916</td>
<td align="center">0.742</td>
<td align="center">0.732</td>
<td align="center">0.380</td>
<td align="center">0.967</td>
<td align="center">0.856</td>
</tr>
<tr class="odd">
<td align="left">Model_H - overlaid</td>
<td align="center">0.735</td>
<td align="center">0.406</td>
<td align="center">0.620</td>
<td align="center">0.286</td>
<td align="center">0.772</td>
<td align="center">0.460</td>
</tr>
<tr class="even">
<td align="left">Model_R - overlaid</td>
<td align="center">0.919</td>
<td align="center">0.756</td>
<td align="center">0.684</td>
<td align="center">0.290</td>
<td align="center">0.980</td>
<td align="center">0.882</td>
</tr>
<tr class="odd">
<td align="left">Ensemble - unweighted</td>
<td align="center">0.915</td>
<td align="center">0.772</td>
<td align="center">0.699</td>
<td align="center">0.345</td>
<td align="center">0.972</td>
<td align="center">0.888</td>
</tr>
<tr class="even">
<td align="left">Ensemble - AUC-based weights</td>
<td align="center">0.917</td>
<td align="center">0.777</td>
<td align="center">0.703</td>
<td align="center">0.349</td>
<td align="center">0.973</td>
<td align="center">0.893</td>
</tr>
<tr class="odd">
<td align="left">Ensemble - TSS-based weights</td>
<td align="center">0.920</td>
<td align="center">0.785</td>
<td align="center">0.708</td>
<td align="center">0.352</td>
<td align="center">0.975</td>
<td align="center">0.900</td>
</tr>
<tr class="even">
<td align="left">Ensemble - variance-based weights</td>
<td align="center">0.888</td>
<td align="center">0.670</td>
<td align="center">0.713</td>
<td align="center">0.344</td>
<td align="center">0.936</td>
<td align="center">0.764</td>
</tr>
</tbody>
</table>
<p>We can see that the ensemble with weights based on TSS values had the
highest scores of the ensemble predictions, and mostly higher scores
that the original predictions. We can visualize this ensemble to compare
it with known blue whale habitat.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co"># Simple code to visualize ensemble created with weights based on TSS values</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="fu">plot_sf_3panel</span>(</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>  <span class="fu">rename</span>(ens.sf.wtss, <span class="at">se =</span> SE), <span class="st">&quot;Pred_ens&quot;</span>, <span class="at">main.txt =</span> <span class="st">&quot;Ensemble-TSS - &quot;</span>, </span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>  <span class="at">map.base =</span> map.world, <span class="at">x.axis.at =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">130</span>, <span class="sc">-</span><span class="dv">125</span>, <span class="sc">-</span><span class="dv">120</span>)</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Below is code to visualize the unweighted ensembles and this ensemble
(i.e., create plots similar to Figs. 4 and 5 in Woodman <em>et
al.</em>). This code uses custom functions (located at
<code>system.file(&quot;eSDM_vignette_helper.R&quot;, package = &quot;eSDM&quot;)</code>)
that leverage the <code>tmap</code> package to generate plots. However,
by default this code is not run because each plot takes several minutes
to generate.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="do">### Figure 4; code not run</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="fu">library</span>(tmap)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="co"># Values passed to tmap_sdm - range of map</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>range.poly <span class="ot">&lt;-</span> <span class="fu">st_sfc</span>(</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>  <span class="fu">st_polygon</span>(<span class="fu">list</span>(<span class="fu">matrix</span>(</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>    <span class="fu">c</span>(<span class="sc">-</span><span class="dv">132</span>, <span class="sc">-</span><span class="dv">132</span>, <span class="sc">-</span><span class="dv">116</span>, <span class="sc">-</span><span class="dv">116</span>, <span class="sc">-</span><span class="dv">132</span>, <span class="fl">29.5</span>, <span class="dv">49</span>, <span class="dv">49</span>, <span class="fl">29.5</span>, <span class="fl">29.5</span>), <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>  ))),</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>  <span class="at">crs =</span> <span class="dv">4326</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>)</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>rpoly.mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">st_bbox</span>(range.poly), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a><span class="co"># Values passed to tmap_sdm - size of text labels and legend width</span></span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>main.size <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a>leg.size  <span class="ot">&lt;-</span> <span class="fl">0.55</span></span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a>leg.width <span class="ot">&lt;-</span> <span class="fl">0.43</span></span>
<span id="cb25-17"><a href="#cb25-17" tabindex="-1"></a>grid.size <span class="ot">&lt;-</span> <span class="fl">0.55</span></span>
<span id="cb25-18"><a href="#cb25-18" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" tabindex="-1"></a><span class="co"># Values passed to tmap_sdm - color scale info</span></span>
<span id="cb25-20"><a href="#cb25-20" tabindex="-1"></a>blp1 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm_help</span>(ens.sf.unw, <span class="st">&quot;Pred_ens&quot;</span>)</span>
<span id="cb25-21"><a href="#cb25-21" tabindex="-1"></a>blp2 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm_help</span>(ens.sf.unw, <span class="st">&quot;CV&quot;</span>)</span>
<span id="cb25-22"><a href="#cb25-22" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" tabindex="-1"></a><span class="co"># Plot of predictions (whales / km^-2)</span></span>
<span id="cb25-24"><a href="#cb25-24" tabindex="-1"></a>tmap.obj1 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb25-25"><a href="#cb25-25" tabindex="-1"></a>  ens.sf.unw, <span class="st">&quot;Pred_ens&quot;</span>, blp1, map.world, rpoly.mat, </span>
<span id="cb25-26"><a href="#cb25-26" tabindex="-1"></a>  <span class="st">&quot;Unweighted ensemble - predictions&quot;</span>, </span>
<span id="cb25-27"><a href="#cb25-27" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb25-28"><a href="#cb25-28" tabindex="-1"></a>)</span>
<span id="cb25-29"><a href="#cb25-29" tabindex="-1"></a><span class="co"># Plot of SE values (with same color sceme as predictions)</span></span>
<span id="cb25-30"><a href="#cb25-30" tabindex="-1"></a>tmap.obj2 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb25-31"><a href="#cb25-31" tabindex="-1"></a>  ens.sf.unw, <span class="st">&quot;SE&quot;</span>, blp1, map.world, rpoly.mat, </span>
<span id="cb25-32"><a href="#cb25-32" tabindex="-1"></a>  <span class="st">&quot;Unweighted ensemble - SE&quot;</span>, </span>
<span id="cb25-33"><a href="#cb25-33" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb25-34"><a href="#cb25-34" tabindex="-1"></a>)</span>
<span id="cb25-35"><a href="#cb25-35" tabindex="-1"></a><span class="co"># Plot of CV values</span></span>
<span id="cb25-36"><a href="#cb25-36" tabindex="-1"></a>tmap.obj3 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb25-37"><a href="#cb25-37" tabindex="-1"></a>  ens.sf.unw, <span class="st">&quot;CV&quot;</span>, blp2, map.world, rpoly.mat, </span>
<span id="cb25-38"><a href="#cb25-38" tabindex="-1"></a>  <span class="st">&quot;Unweighted ensemble - CV&quot;</span>, </span>
<span id="cb25-39"><a href="#cb25-39" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb25-40"><a href="#cb25-40" tabindex="-1"></a>)</span>
<span id="cb25-41"><a href="#cb25-41" tabindex="-1"></a></span>
<span id="cb25-42"><a href="#cb25-42" tabindex="-1"></a><span class="co"># Generate plot</span></span>
<span id="cb25-43"><a href="#cb25-43" tabindex="-1"></a><span class="fu">tmap_arrange</span>(</span>
<span id="cb25-44"><a href="#cb25-44" tabindex="-1"></a>  <span class="fu">list</span>(tmap.obj1, tmap.obj2, tmap.obj3), <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">asp =</span> <span class="cn">NULL</span>, <span class="at">outer.margins =</span> <span class="fl">0.05</span></span>
<span id="cb25-45"><a href="#cb25-45" tabindex="-1"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="do">### Figure 5; code not run</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="co"># Values passed to tmap_sdm - size of text labels and legend width</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>main.size <span class="ot">&lt;-</span> <span class="fl">1.1</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>leg.size  <span class="ot">&lt;-</span> <span class="fl">0.7</span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>leg.width <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>grid.size <span class="ot">&lt;-</span> <span class="fl">0.7</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a><span class="co"># Values passed to tmap_sdm - color scale info</span></span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a>blp1b <span class="ot">&lt;-</span> <span class="fu">tmap_sdm_help</span>(ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>)</span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a>blp2b <span class="ot">&lt;-</span> <span class="fu">tmap_sdm_help_perc</span>(ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>)</span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" tabindex="-1"></a><span class="co"># Plot of predictions (whales / km^-2)</span></span>
<span id="cb26-14"><a href="#cb26-14" tabindex="-1"></a>tmap.obj1 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb26-15"><a href="#cb26-15" tabindex="-1"></a>  ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>, blp1, map.world, rpoly.mat, <span class="st">&quot;Ensemble-TSS - Predictions&quot;</span>, </span>
<span id="cb26-16"><a href="#cb26-16" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb26-17"><a href="#cb26-17" tabindex="-1"></a>)</span>
<span id="cb26-18"><a href="#cb26-18" tabindex="-1"></a><span class="co"># Plot of SE values (with same color sceme as predictions)</span></span>
<span id="cb26-19"><a href="#cb26-19" tabindex="-1"></a>tmap.obj2 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb26-20"><a href="#cb26-20" tabindex="-1"></a>  ens.sf.wtss, <span class="st">&quot;SE&quot;</span>, blp1, map.world, rpoly.mat, <span class="st">&quot;Ensemble-TSS - SE&quot;</span>, </span>
<span id="cb26-21"><a href="#cb26-21" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb26-22"><a href="#cb26-22" tabindex="-1"></a>)</span>
<span id="cb26-23"><a href="#cb26-23" tabindex="-1"></a><span class="co"># Plot of predictions (percentiles)</span></span>
<span id="cb26-24"><a href="#cb26-24" tabindex="-1"></a>tmap.obj3 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb26-25"><a href="#cb26-25" tabindex="-1"></a>  ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>, blp2b, map.world, rpoly.mat, <span class="st">&quot;Ensemble-TSS - Predictions&quot;</span>, </span>
<span id="cb26-26"><a href="#cb26-26" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb26-27"><a href="#cb26-27" tabindex="-1"></a>)</span>
<span id="cb26-28"><a href="#cb26-28" tabindex="-1"></a><span class="co"># Plot of predictions (percentiles) with combined validation data presence points</span></span>
<span id="cb26-29"><a href="#cb26-29" tabindex="-1"></a>tmap.obj4 <span class="ot">&lt;-</span> <span class="fu">tmap_sdm</span>(</span>
<span id="cb26-30"><a href="#cb26-30" tabindex="-1"></a>  ens.sf.wtss, <span class="st">&quot;Pred_ens&quot;</span>, blp2b, map.world, rpoly.mat, <span class="st">&quot;Ensemble-TSS - Predictions&quot;</span>, </span>
<span id="cb26-31"><a href="#cb26-31" tabindex="-1"></a>  main.size, leg.size, leg.width, grid.size</span>
<span id="cb26-32"><a href="#cb26-32" tabindex="-1"></a>) <span class="sc">+</span> </span>
<span id="cb26-33"><a href="#cb26-33" tabindex="-1"></a>  <span class="fu">tm_shape</span>(<span class="fu">filter</span>(valid.data, pres_abs <span class="sc">==</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb26-34"><a href="#cb26-34" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">0.04</span>, <span class="at">shape =</span> <span class="dv">19</span>)</span>
<span id="cb26-35"><a href="#cb26-35" tabindex="-1"></a></span>
<span id="cb26-36"><a href="#cb26-36" tabindex="-1"></a><span class="co"># Generate plot</span></span>
<span id="cb26-37"><a href="#cb26-37" tabindex="-1"></a><span class="fu">tmap_arrange</span>(</span>
<span id="cb26-38"><a href="#cb26-38" tabindex="-1"></a>  <span class="fu">list</span>(tmap.obj1, tmap.obj2, tmap.obj3, tmap.obj4), <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow =</span> <span class="dv">2</span>, </span>
<span id="cb26-39"><a href="#cb26-39" tabindex="-1"></a>  <span class="at">asp =</span> <span class="cn">NULL</span>, <span class="at">outer.margins =</span> <span class="fl">0.05</span></span>
<span id="cb26-40"><a href="#cb26-40" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<p>Becker, E., Forney, K., Fiedler, P., Barlow, J., Chivers, S.,
Edwards, C., … Redfern, J. (2016). Moving towards dynamic ocean
management: how well do modeled ocean products predict species
distributions? Remote Sensing, 8, 149. <a href="https://doi.org/10.3390/rs8020149" class="uri">https://doi.org/10.3390/rs8020149</a></p>
<p>Hazen, E.L., Palacios, D.M., Forney, K.A., Howell, E.A., Becker, E.,
Hoover, A.L., … Bailey, H. (2017). WhaleWatch: a dynamic management tool
for predicting blue whale density in the California Current. Journal of
Applied Ecology, 54, 1415-1428. <a href="https://doi.org/10.1111/1365-2664.12820" class="uri">https://doi.org/10.1111/1365-2664.12820</a></p>
<p>Irvine, L.M., Mate, B.R., Winsor, M.H., Palacios, D.M., Bograd, S.J.,
Costa, D.P. &amp; Bailey, H. (2014). Spatial and temporal occurrence of
blue whales off the U.S. West Coast, with implications for management.
PLoS One, 9, e102959. <a href="https://doi.org/10.1371/journal.pone.0109485" class="uri">https://doi.org/10.1371/journal.pone.0109485</a></p>
<p>Redfern, J.V., Moore, T.J., Fiedler, P.C., de Vos, A., Brownell,
R.L., Forney, K.A., … Heikkinen, R. (2017). Predicting cetacean
distributions in data-poor marine ecosystems. Diversity and
Distributions, 23, 394-408. <a href="https://doi.org/10.1111/ddi.12537" class="uri">https://doi.org/10.1111/ddi.12537</a></p>
<p>Woodman, S.M., Forney, K.A., Becker, E.A., DeAngelis, M.L., Hazen,
E.L., Palacios, D.M., Redfern, J.V. (2019). eSDM: A tool for creating
and exploring ensembles of predictions from species distribution and
abundance models. Methods in Ecology and Evolution. 2019;10:1923-1933.
<a href="https://doi.org/10.1111/2041-210X.13283" class="uri">https://doi.org/10.1111/2041-210X.13283</a></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
